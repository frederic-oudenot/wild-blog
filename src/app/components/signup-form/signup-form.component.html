<form [formGroup]="signUpForm" (submit)="onSubmit()">
  <!-- Champ username -->
  <div>
    <label for="username">Username</label>
    <input
      type="text"
      name="username"
      id="username"
      formControlName="username"
      placeholder="Ecrire votre username"
    />
    @if(signUpForm.get('username')?.invalid &&
    signUpForm.get('username')?.touched){
    <div>
      @if(signUpForm.get('username')?.errors?.['required']){
      <span class="alert">Username requis</span>
      } @if(signUpForm.get('username')?.errors?.['minlength']){
      <span class="alert"
        >Username doit être supérieur à 3 caractères minimum</span
      >
      }
    </div>
    }
  </div>
  <!-- Champ email -->
  <div>
    <label for="email">Email</label>
    <input
      type="email"
      name="email"
      id="email"
      formControlName="email"
      placeholder="Ecrire votre email"
    />
    @if(signUpForm.get('email')?.invalid && signUpForm.get('email')?.touched){
    <div>
      @if(signUpForm.get('email')?.errors?.['required']){
      <span class="alert">Email requis</span>
      } @if(signUpForm.get('email')?.errors?.['email']){
      <span class="alert">Email incorrect</span>
      }
    </div>
    }
  </div>
  <!-- blocs passwords -->
  <div class="passwords" formGroupName="passwords">
    <!-- Champ password -->
    <div>
      <label for="password">Mot de passe</label>
      <input [type]="type" id="password" formControlName="password">
      @if (signUpForm.get('passwords.password')?.invalid && signUpForm.get('passwords.password')?.touched) {
      <div>
        @if (signUpForm.get('passwords.password')?.errors?.['required']) {
          <span class="alert">Le mot de passe est requis.</span>
        }
        @if (signUpForm.get('passwords.password')?.errors?.['securePassword']) {
          <span class="alert">Le mot de passe doit contenir au moins 12 caractères, avec une majuscule, une minuscule, un chiffre, et un caractère spécial.</span>
        }
      </div>
    }
    </div>
    <!-- Champ passwordConfirm -->
    <div>
      <label for="passwordConfirm">Confirmer le mot de passe</label>
      <input [type]="type" id="passwordConfirm" formControlName="passwordConfirm">
      @if (signUpForm.get('passwords')?.errors?.['passwordMismatch'] && signUpForm.get('passwords')?.touched) {
        <span class="alert">Les mots de passe ne correspondent pas.</span>
      }
    </div>
  </div>
  <button type="button" (click)="checkPassword()">voir mot de passe</button>

  <button class="reset" type="reset">Reset</button>
  <button class="submit" type="submit">Submit</button>
</form>
